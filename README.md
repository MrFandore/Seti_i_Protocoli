# Лабораторная работа №3: Автоматизация сетевого оборудования с использованием Python

## Описание проекта
Проект демонстрирует автоматизацию настройки сетевого оборудования Cisco с использованием библиотеки Netmiko для Python. Скрипт выполняет подключение к роутеру и коммутатору, сбор конфигурационной информации и управление VLAN.

## Функциональность
- Установление SSH-соединения с сетевым оборудованием
- Сбор текущей конфигурации устройств
- Мониторинг состояния интерфейсов
- Управление VLAN (удаление и создание)
- Анализ ARP-таблиц и MAC-адресов

## Технические требования

### Системное окружение
- **ОС**: CentOS 9 (рекомендуется виртуальная машина)
- **Интерпретатор**: Python 3.x
- **Менеджер пакетов**: PIP

### Сетевое оборудование
- Cisco Router (IOS 15.x)
- Cisco Switch (IOS 15.x)
- Доступность устройств по IP-адресам:
  - Роутер: 192.168.181.20
  - Коммутатор: 192.168.181.30

### Необходимые пакеты
```bash
Python 3.x
netmiko
ipaddress
ipython
nmap
tcpdump
Visual Studio Code (опционально)
```

## Установка и настройка

### 1. Подготовка окружения
```bash
# Обновление криптополитик
sudo update-crypto-policies --set DEFAULT:SHA1
sudo reboot

# Проверка версии Python
python3 --version

# Установка менеджера пакетов
pip3 install -U pip
```

### 2. Установка зависимостей
```bash
pip install netmiko ipaddress ipython
```

### 3. Настройка сетевого оборудования
Убедитесь, что на устройствах:
- Включен SSH-доступ
- Настроены учетные данные:
    - Логин: admin
    - Пароль: cisco
    - Enable-пароль: cisco

## Структура проекта

```
├── main.py              # Основной скрипт автоматизации
├── README.md            # Пример работы проекта
└── Лабораторная работа 3(Метода).docx
```

## Использование

### Запуск скрипта
```bash
python3 main.py
```

### Выполняемые операции
1. **Подключение к роутеру**:
    - Сбор running-config
    - Анализ интерфейсов

2. **Подключение к коммутатору**:
    - Сбор running-config
    - Мониторинг интерфейсов
    - Управление VLAN:
        - Удаление VLAN 4
        - Создание VLAN 4 с назначением IP-адреса
    - Анализ ARP-таблицы
    - Просмотр MAC-address-table

## Конфигурационные параметры

### Параметры подключения
```python
cisco_router = {
    'device_type': 'cisco_ios',
    'host': '192.168.181.20',
    'username': 'admin',
    'password': 'cisco',
    'secret': 'cisco',
    'port': 22,
}
```

### Команды настройки VLAN
```python
commands = [
    'vlan 4',
    'name vlan4',
    'ip 192.168.144.2 255.255.255.0',
]
```

## Безопасность
- Используется SSH-протокол для безопасного подключения
- Рекомендуется изменить стандартные учетные данные в продакшн-среде
- Настроены соответствующие криптографические политики

## Мониторинг и отладка
- Логирование выполнения операций
- Валидация ответов от оборудования
- Обработка ошибок подключения

## Примечания
- Скрипт тестировался на оборудовании Cisco IOS 15.x
- Для других версий IOS может потребоваться корректировка команд
- Рекомендуется предварительное тестирование в lab-среде

## Дополнительные материалы
- [Документация Netmiko](https://pyneng.readthedocs.io/ru/latest/)
- [Официальная документация NMap](https://nmap.org/man/ru/)
- [Руководство по Cisco IOS](https://www.cisco.com/c/en/us/support/ios-nx-os-software/ios-15-2s/topic.html)
